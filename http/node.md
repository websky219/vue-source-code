## 大话 HTTP 协议

### HTTP 初相识

1.  http 协议是 TCP/IP 协议的子集
2.  TCP/IP 协议其实是一系列与互联网相关的协议集合起来的总称。
3.  TCP/IP 协议族是由一个四层协议组成的系统
    1. 运用层 (HTTP,FTP,DNS )
    2. 传输层 (TCP/UDP)
    3. 网络层 (IP)
    4. 数据链路层 (网络)
4.  客户端与服务器建立 TCP 连接(三次握手)，http 使用此 tcp 连接 发送请求
    1. 建立 tcp 链接
    2. 请求文档 http 请求报文
    3. 响应文档 http 响应报文
    4. 释放 tcp 连接
5.  http 的报文头大体分为四类:通用报文头、请求报文头、响应报文头、实体报文头

- 无连接
  1. 无连接的含义是限制每次连接只处理一个请求
  2. 服务器处理完客户请求,并收到客户应答后,即断开连接
  3. 采用无连接这种方式可以节省传输时间
- 无状态
  1. 无状态是指协议对于事物处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息
     必须重传,这样可能导致每次连接传送的数据量增大
- URI/URL
  1. URI:一个紧凑的字符串用来标示抽象或物理资源
  2. url 是 URI 的子集,除了确定一个资源,还提供一种定位资源的访问机制

### 熟悉 HTTP 协议结构和通讯原理

### 深入认识 HTTP 的特性

### 实验使用 HTTP 协议构建运用

### 安全的 HTTPS

### 基于 HTTP 的功能追加协议
- http协议的瓶颈
1. 一个连接只发送一个请求
2. 请求只能从客户端开始,客户端不接受除响应以外的指令
3. 请求头/响应头部不经压缩就发送
4. 每次互相发送相同的头部造成的浪费较多
5. 非强制压缩发送
### web 安全威胁浅析
### 从URL输入到页面展现到底发生什么？
1. DNS解析:将域名解析成ip地址
2. TCP连接:TCP三次握手
3. 发送HTTP请求
4. 服务器处理请求并返回HTTP报文
5. 浏览器解析渲染页面
6. 断开连接：TCP四次挥手
### 为啥需要三次握手
1. 为了防止已失效的连接请求报文突然又传送到了服务器,因而产生错误.
### 浏览器解析渲染页面
* 根据HTML解析出DOM树
  1. 根据 HTML 的内容，将标签按照结构解析成为 DOM 树，DOM 树解析的过程是一个深度优先遍历。即先构建当前节点的所有子节点，再构建下一个兄弟节点。
  2. 在读取 HTML 文档，构建 DOM 树的过程中，若遇到 script 标签，则 DOM 树的构建会暂停，直至脚本执行完毕。
* 根据css解析生成css规则树
1. 解析 CSS 规则树时 js 执行将暂停，直至 CSS 规则树就绪。
2. 浏览器在 CSS 规则树生成之前不会进行渲染。
* 结合DOM树和cssg规则树，生成渲染树
   1. DOM 树和 CSS 规则树全部准备好了以后，浏览器才会开始构建渲染树。
   2. 精简 CSS 并可以加快 CSS 规则树的构建，从而加快页面相应速度。
* 根据渲染树计算每一个节点的信息
   1. 布局：通过渲染树中渲染对象的信息，计算出每一个渲染对象的位置和尺寸
   2. 回流：在布局完成后，发现了某个部分发生了变化影响了布局，那就需要倒回去重新渲染。
* 根据计算好的信息绘制页面
   1. 绘制阶段，系统会遍历呈现树，并调用呈现器的“paint”方法，将呈现器的内容显示在屏幕上。
   2. 重绘：某个元素的背景颜色，文字颜色等，不影响元素周围或内部布局的属性，将只会引起浏览器的重绘。
   3. 回流：某个元素的尺寸发生了变化，则需重新计算渲染树，重新渲染。
